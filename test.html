<!DOCTYPE html>
<html>
<head>
    <title>Test stripHtmlTags</title>
</head>
<body>
    <h1>Test stripHtmlTags function</h1>
    <script type="module">
        // Simple implementation of stripHtmlTags for browser testing
        const stripHtmlTags = (html) => {
            if (!html) return "";
            
            // Remove HTML tags using regex
            let text = html.replace(/<[^>]*>/g, "");
            
            // Decode HTML entities
            text = text
                .replace(/&nbsp;/g, " ")
                .replace(/&amp;/g, "&")
                .replace(/&lt;/g, "<")
                .replace(/&gt;/g, ">")
                .replace(/&quot;/g, '"')
                .replace(/&#39;/g, "'");
            
            // Normalize whitespace (multiple spaces, tabs, newlines to single space)
            text = text.replace(/\s+/g, " ");
            
            // Trim leading/trailing whitespace
            return text.trim();
        };

        // Test cases
        const testCases = [
            { input: "<p><strong>Great job</strong></p>", expected: "Great job" },
            { input: "<p><strong>Great</strong> <em>job</em> <br>indeed</p>", expected: "Great job indeed" },
            { input: "<p>Great &amp; wonderful job</p>", expected: "Great & wonderful job" },
            { input: "<p>Great    job</p>", expected: "Great job" },
            { input: "", expected: "" },
        ];

        const results = document.createElement('div');
        results.innerHTML = '<h2>Test Results:</h2>';

        testCases.forEach((testCase, index) => {
            const result = stripHtmlTags(testCase.input);
            const passed = result === testCase.expected;
            
            const testDiv = document.createElement('div');
            testDiv.innerHTML = `
                <h3>Test ${index + 1}: ${passed ? 'PASS' : 'FAIL'}</h3>
                <p>Input: "${testCase.input}"</p>
                <p>Expected: "${testCase.expected}"</p>
                <p>Got: "${result}"</p>
                <hr>
            `;
            results.appendChild(testDiv);
        });

        document.body.appendChild(results);
    </script>
</body>
</html>